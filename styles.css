/* ============ THEME ============ */
:root{
  --bg:#0b0f14;
  --panel:#0e141c;
  --panel-2:#0b1219;
  --stroke:rgba(255,255,255,.10);
  --stroke-soft:rgba(255,255,255,.06);
  --text:#eef6ff;
  --muted:#a7b9cd;
  --accent:#37d2ff;

  /* ขนาดการ์ด (เล็กลง + เท่ากันทุกจอ) */
  --tile-w: clamp(86px, 10.4vw, 118px);
  --tile-h: clamp(102px, 12.4vw, 128px);
  --tile-g: 10px;

  --player-radius: 16px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 50% -20%, #1f2b3b33 0, transparent 60%),
    linear-gradient(180deg, #0b0f14 0, #090c11 60%, #080a0e 100%);
  font: 14px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Thai","Noto Sans",Arial,sans-serif;
}

::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-thumb{background:#1e2631;border-radius:10px}

/* ============ Header / Player ============ */
header{position:sticky;top:0;z-index:30;background:linear-gradient(180deg,#0b0f14f2 0,#0b0f1490 65%,transparent)}
.h-wrap{max-width:1120px;margin:0 auto;padding:10px 16px 6px;text-align:center}
.clock{font-weight:800}
.sub{margin-top:2px;font-size:12px;color:var(--muted)}
#now-playing{margin-top:6px;font-size:13px;font-weight:700;color:#dff2ff}

.app{max-width:1120px;margin:0 auto;padding:8px 12px 24px}
#player{
  width:100%;aspect-ratio:16/9;background:var(--panel-2);
  border:1px solid var(--stroke);border-radius:var(--player-radius);overflow:hidden;
  box-shadow:0 10px 28px rgba(0,0,0,.45);
}

/* ============ Tabs (มีหรือไม่มีก็ไม่กระทบ) ============ */
.tabs{display:flex;gap:10px;padding:12px 4px 6px;margin:8px auto 0;overflow-x:auto;scrollbar-width:none;justify-content:center;max-width:980px}
.tabs::-webkit-scrollbar{display:none}
.tab{appearance:none;background:transparent;border:0;color:inherit;padding:0;cursor:pointer}

/* ============ GRID ช่อง ============ */
.grid{
  --col: minmax(var(--tile-w), 1fr);
  display:grid; gap:var(--tile-g);
  grid-template-columns: repeat(auto-fit, var(--col));
  grid-auto-rows: var(--tile-h);
  justify-content:center; align-content:start;
  margin-top:10px;
}

/* ปุ่มช่อง */
.channel{position:relative;width:100%;height:var(--tile-h);cursor:pointer}
.ch-card{
  position:relative; display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  width:100%; height:100%; padding:9px 8px 8px; border-radius:12px;

  /* <<< ตัด “พื้นขาว” ออก: ใช้พื้นทึบเข้ม + ไม่มีไฮไลต์ขาว >>> */
  background: var(--panel);
  border:1px solid var(--stroke-soft);
  box-shadow: 0 6px 16px rgba(0,0,0,.42);

  transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease, background .14s ease;
}

/* Hover/Focus – เรียบๆ */
.channel:hover .ch-card,
.channel:focus-visible .ch-card{
  transform: translateY(-2px);
  border-color: var(--stroke);
  box-shadow: 0 10px 22px rgba(0,0,0,.55);
}

/* โลโก้กึ่งกลาง (รองรับโลโก้ยาว) */
.ch-card img,.ch-logo,.logo{
  max-width:72%;   /* เล็กลงให้พอดีการ์ดใหม่ */
  max-height:50%;
  object-fit:contain; object-position:center; border-radius:0;
  /* ไม่มีพื้นหลังขาว */
  background: transparent!important;
  filter: drop-shadow(0 1px 6px rgba(0,0,0,.35));
}
.channel[data-category="หนัง"] .ch-card img,
.channel[data-category="หนัง"] .ch-logo,
.channel[data-category="หนัง"] .logo{
  max-width:82%; max-height:46%;
}

/* ชื่อช่อง – สูงเท่ากันทุกใบ (2 บรรทัด) */
.ch-name,.name{
  margin-top:auto; padding-top:8px; text-align:center;
  font-size:12.2px; line-height:1.28;
  height:calc(1.28em * 2 + 2px);
  color:#eaf2ff;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; text-overflow:ellipsis; word-break:break-word; text-wrap:balance;
}

/* กำลังเล่น – ขอบขาวเรืองแสง (บางลง ดูสะอาด) */
.channel.playing .ch-card{
  background: #101a28;
  border-color:#ffffffcc;
  box-shadow:
    0 12px 26px rgba(0,0,0,.6),
    0 0 0 1px #ffffff45,
    0 0 24px 4px rgba(255,255,255,.14);
}
.channel.playing .ch-card::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit; pointer-events:none;
  box-shadow:0 0 0 0 rgba(255,255,255,.30);
  animation:cardPulse 1.6s ease-out infinite;
}
@keyframes cardPulse{
  0%{box-shadow:0 0 0 0 rgba(255,255,255,.30)}
  70%{box-shadow:0 0 0 10px rgba(255,255,255,0)}
  100%{box-shadow:0 0 0 10px rgba(255,255,255,0)}
}

/* Ripple ตอนกด (นุ่มขึ้น) */
.channel.pressed .ch-card::after{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background:radial-gradient(circle at var(--x,50%) var(--y,50%),
    rgba(255,255,255,.28) 0%, rgba(255,255,255,.16) 18%, rgba(255,255,255,0) 60%);
  animation:cardRipple 520ms ease-out forwards;
}
@keyframes cardRipple{from{opacity:.85;transform:scale(1)}to{opacity:0;transform:scale(1.1)}}

/* เอฟเฟกต์ตอนกรอง/สลับชุดการ์ด */
.grid.filtering .channel{animation:tilePop .20s ease both}
@keyframes tilePop{from{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}

/* ข้อความช่วย */
.tip{margin:10px auto 0;max-width:980px;text-align:center;color:#a7b9cd;font-size:12px}

/* Responsive tuning */
@media (max-width:960px){
  :root{--tile-g:9px}
}
@media (max-width:640px){
  :root{
    --tile-w: clamp(84px, 28vw, 110px);
    --tile-h: clamp(98px, 32vw, 122px);
  }
  .app{padding:8px 10px 24px}
}
@media (max-height:420px) and (orientation:landscape){
  :root{--tile-h: clamp(96px, 24vh, 118px)}
}

/* Toast ชื่อช่องบนน้ำวิดีโอ (มือถือ) */
#mini-toast{
  position:absolute;z-index:5;left:12px;bottom:12px;
  padding:6px 10px;border-radius:10px;background:rgba(0,0,0,.55);
  color:#fff;font-weight:700;font-size:12px;backdrop-filter:blur(2px);
  transform:translateY(8px);opacity:0;pointer-events:none;transition:.25s ease;
}
#mini-toast.show{transform:none;opacity:1}
