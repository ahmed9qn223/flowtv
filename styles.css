/* ===========================
   FLOWTV - Clean Responsive UI
   =========================== */

:root{
  --bg: #0b0f14;
  --panel: #121821;
  --panel-2: #0f151d;
  --muted: #9fb0c1;
  --text: #dbe7f3;
  --accent: #46a4ff;
  --accent-2: #00d1ff;

  /* layout */
  --maxw: 1200px;
  --gap: 12px;

  /* tabs */
  --tab-w: clamp(86px, 13vw, 120px);
  --tab-h: 68px;
  --tab-radius: 14px;

  /* cards */
  --tile-min: 150px;      /* กว้างขั้นต่ำต่อคอลัมน์ */
  --tile-ratio: 4/3;      /* สัดส่วนการ์ด */
  --tile-radius: 16px;
  --logo: 56px;           /* ขนาดโลโก้ช่องบนเดสก์ทอป */
  --logo-m: 48px;         /* มือถือ */
}

* { box-sizing: border-box; }

html,body{
  height:100%;
  margin:0;
  background:
    radial-gradient(1200px 600px at 50% -200px, #182233 0%, transparent 60%),
    linear-gradient(#0a0f15,#080c11) fixed;
  background-color: var(--bg);
  color: var(--text);
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans Thai", sans-serif;
}

/* -------- Header -------- */
header{
  position: sticky;
  top: 0;
  z-index: 20;
  background: linear-gradient(180deg, rgba(7,10,15,.95), rgba(7,10,15,.75));
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.05);
}
.h-wrap{
  max-width: var(--maxw);
  margin: 0 auto;
  padding: 8px 14px 10px;
  display: grid;
  grid-template-columns: 1fr;
  justify-items: center;
}
.clock{
  font-weight: 700;
  letter-spacing: .2px;
}
.sub{
  margin-top: 2px;
  color: var(--muted);
  font-size: 12px;
}

/* -------- Main container -------- */
.app{
  max-width: var(--maxw);
  margin: 10px auto 60px;
  padding: 0 14px;
}

/* -------- Player -------- */
#player{
  width: 100%;
  aspect-ratio: 16/9;
  background: #05080c;
  border: 1px solid rgba(255,255,255,.06);
  border-radius: 18px;
  box-shadow: 0 6px 18px rgba(0,0,0,.45) inset, 0 10px 30px rgba(0,0,0,.35);
  overflow: hidden;
}
#jw-holder, #html5video, #player video{
  width:100%; height:100%;
}

/* -------- Tabs -------- */
.tabs{
  margin: 14px 0 8px;
  display: flex;
  gap: var(--gap);
  overflow-x: auto;
  padding: 6px 2px 8px;
  scrollbar-width: thin;
}
.tabs::-webkit-scrollbar{ height:8px }
.tabs::-webkit-scrollbar-thumb{ background:#1f2835; border-radius:10px }

.tab{
  flex: 0 0 var(--tab-w);
  height: var(--tab-h);
  border-radius: var(--tab-radius);
  border: 1px solid rgba(255,255,255,.06);
  background: linear-gradient(180deg, #121821, #0e141c);
  color: var(--text);
  font-weight: 600;
  letter-spacing:.2px;
  display: grid;
  place-items: center;
  position: relative;
  transition: transform .12s ease, border-color .2s ease, box-shadow .2s ease;
  box-shadow: 0 3px 12px rgba(0,0,0,.35);
}
.tab[aria-selected="true"]{
  outline: none;
  border-color: rgba(70,164,255,.65);
  box-shadow: 0 8px 24px rgba(70,164,255,.16);
}
.tab[aria-selected="true"]::after{
  content:'';
  position:absolute; left:10px; right:10px; bottom:6px;
  height: 3px; border-radius: 6px;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
}
.tab:active{ transform: translateY(1px) }

/* -------- Grid of channels -------- */
.grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--tile-min), 1fr));
  gap: var(--gap);
  margin-top: 10px;
}

/* Card keeps same size by aspect-ratio */
.ch-card{
  display: block;
  width: 100%;
  aspect-ratio: var(--tile-ratio);
  border-radius: var(--tile-radius);
  border: 1px solid rgba(255,255,255,.06);
  background: radial-gradient(120% 120% at 50% -20%, #16202f 0%, #0f151d 58%);
  position: relative;
  overflow: hidden;
  padding: 0;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
}
.ch-card:hover{
  transform: translateY(-2px);
  border-color: rgba(70,164,255,.45);
  box-shadow: 0 16px 30px rgba(0,0,0,.45), 0 8px 26px rgba(70,164,255,.15);
}

.ch-inner{
  position:absolute; inset:0;
  display:grid; place-items:center;
  padding: 10px;
  text-align:center;
}

.ch-logo{
  width: var(--logo);
  height: var(--logo);
  object-fit: contain;
  filter: drop-shadow(0 1px 6px rgba(0,0,0,.45));
  margin-bottom: 8px;
}

.ch-name{
  max-width: 92%;
  color: var(--text);
  font-weight: 700;
  letter-spacing:.2px;
  font-size: 13px;
  line-height: 1.35;
  text-wrap: balance;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
  opacity: .95;
}

/* -------- helper texts -------- */
.tip{
  margin: 12px 2px 0;
  color: var(--muted);
  font-size: 12px;
}

/* -------- Notices (update / error) -------- */
.notice-host{
  max-width: var(--maxw);
  margin: 10px auto 0;
  padding: 0 14px;
}
.notice{
  border-radius: 14px;
  padding: 14px 14px 12px;
  margin: 8px 0;
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.notice--update{ background: linear-gradient(180deg, #10212e, #0f1824) }
.notice--error{  background: linear-gradient(180deg, #2a0f15, #1c0d11) }
.notice-title{ font-weight:800; letter-spacing:.2px; margin-bottom:4px }
.notice-msg{ color: var(--muted); margin-bottom:10px }
.notice-actions{ display:flex; flex-wrap:wrap; gap:8px }
.btn{
  border:1px solid rgba(255,255,255,.1);
  background:#121821;
  color:#e9f3ff;
  padding:8px 12px; border-radius:10px;
  cursor:pointer; font-weight:600;
}
.btn.primary{
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  border-color: transparent; color:#001019;
}
.btn.danger{
  background: linear-gradient(90deg, #ff6b6b, #ff9966);
  border-color: transparent; color:#200;
}

/* -------- Toast (mobile) -------- */
.now-playing-toast{
  position: fixed; left:50%; transform:translateX(-50%) translateY(20px);
  bottom: 82px; z-index: 40;
  background: rgba(8,12,18,.86);
  border:1px solid rgba(255,255,255,.08);
  color:#e9f3ff; padding:10px 14px; border-radius:12px;
  box-shadow: 0 10px 26px rgba(0,0,0,.45);
  opacity:0; pointer-events:none; transition: opacity .2s, transform .2s;
}
.now-playing-toast.show{ opacity:1; transform:translateX(-50%) translateY(0) }

/* -------- Histats badge (ใน header ขวา) -------- */
#histats_counter{
  position: absolute;
  right: 8px; top: 8px; /* พอดีกับ header */
  transform: scale(.9);
  transform-origin: top right;
  pointer-events: none; /* ไม่บังการคลิก UI */
}

/* -------- Responsive Tweaks -------- */
@media (max-width: 900px){
  :root{
    --tile-min: 140px;
    --logo: var(--logo-m);
  }
}
@media (max-width: 640px){
  :root{
    --tile-min: 46vw;    /* 2 คอลัมน์บนมือถือ */
    --tab-h: 64px;
  }
  .h-wrap{ padding: 10px 12px }
  .clock{ font-size: 15px }
  .ch-name{ font-size: 12.5px }
}
@media (min-width: 1280px){
  :root{ --tile-min: 180px; --logo: 64px }
}
