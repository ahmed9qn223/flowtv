/* -------------------------------
   FLOWTV • Clean Compact Theme
   ใส่ไฟล์นี้แทน styles.css เดิม
--------------------------------- */

/* ===== Theme & Sizes ===== */
:root{
  --bg:#0b0f14;
  --panel:#101720;
  --panel-2:#0c131b;
  --ink:#eaf2ff;
  --muted:#9bb0c7;
  --line:rgba(255,255,255,.08);
  --line-2:rgba(255,255,255,.06);
  --glow:rgba(255,255,255,.16);
  --accent:#32c7ff;

  /* การ์ดเล็กลง + เท่ากันทุกอุปกรณ์ */
  --tile-w: clamp(90px, 10.2vw, 120px);
  --tile-h: clamp(104px, 12.2vw, 132px);
  --tile-gap: 10px;

  --radius: 12px;
  --player-radius: 16px;
  --shadow: 0 8px 20px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 50% -20%, #1d2a3a33 0, transparent 60%),
    linear-gradient(180deg,#0b0f14 0,#0a0d12 60%,#080a0e 100%);
  font: 14px/1.5 system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai", "Noto Sans", Arial, sans-serif;
}

/* Scrollbar เล็ก */
::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-thumb{background:#1e2631;border-radius:10px}

/* ===== Header / Player ===== */
header{position:sticky;top:0;z-index:30;background:linear-gradient(180deg,#0b0f14f2, #0b0f1490 60%, transparent)}
.h-wrap{max-width:1120px;margin:0 auto;padding:10px 16px 6px;text-align:center}
.clock{font-weight:800}
.sub{margin-top:2px;font-size:12px;color:var(--muted)}
#now-playing{margin-top:4px;font-size:13px;font-weight:700;color:#dff2ff}

.app{max-width:1120px;margin:0 auto;padding:8px 12px 24px}

/* ตัวเล่นวิดีโอ */
#player{
  width:100%;aspect-ratio:16/9;
  background:var(--panel-2);
  border:1px solid var(--line);
  border-radius:var(--player-radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

/* ===== Tabs (ทำให้เรียบ/เล็ก/เป็นระเบียบ) ===== */
.tabs{
  display:flex; gap:8px; padding:10px 2px 2px; margin:6px auto 0;
  overflow-x:auto; scrollbar-width:none; justify-content:center; max-width:980px;
}
.tabs::-webkit-scrollbar{display:none}
.tab{
  appearance:none; border:0; cursor:pointer; color:var(--ink);
  background:rgba(255,255,255,.05);
  border:1px solid var(--line-2);
  height:34px; padding:0 12px; border-radius:999px;
  display:inline-flex; align-items:center; gap:8px;
  font-size:13px; transition:.18s ease;
}
.tab[aria-selected="true"]{
  background:rgba(50,199,255,.12);
  border-color:rgba(50,199,255,.45);
  box-shadow:0 0 0 1px rgba(50,199,255,.25) inset;
}
.tab:hover{transform:translateY(-1px)}

/* ===== GRID ช่อง (เล็ก เท่ากันทุกใบ) ===== */
.grid{
  display:grid; gap:var(--tile-gap);
  grid-template-columns: repeat(auto-fill, minmax(var(--tile-w), 1fr));
  grid-auto-rows: var(--tile-h);
  justify-content:center; align-content:start;
  margin-top:10px;
}

/* กล่องช่อง */
.channel{position:relative; width:100%; height:var(--tile-h); cursor:pointer}
.ch-card{
  position:relative; width:100%; height:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  padding:10px 8px 8px; border-radius:var(--radius);

  /* ตัดพื้นขาว + ทำให้เรียบ */
  background:var(--panel);
  border:1px solid var(--line-2);
  box-shadow: 0 6px 14px rgba(0,0,0,.35);
  transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease, background .14s ease;
}
.channel:hover .ch-card{transform:translateY(-2px);border-color:var(--line);box-shadow:0 10px 22px rgba(0,0,0,.5)}

/* โลโก้กึ่งกลาง (รองรับโลโก้ยาว/เตี้ย) */
.ch-card img,.ch-logo,.logo{
  max-width:72%;
  max-height:50%;
  object-fit:contain; object-position:center;
  background:transparent!important;           /* ตัดพื้นหลังสีขาวโลโก้ */
  filter: drop-shadow(0 1px 6px rgba(0,0,0,.28));
}
.channel[data-category="หนัง"] .ch-card img,
.channel[data-category="หนัง"] .ch-logo,
.channel[data-category="หนัง"] .logo{
  max-width:82%; max-height:46%;
}

/* ชื่อช่อง – สูงเท่ากันทุกใบ (2 บรรทัด) */
.ch-name,.name{
  margin-top:auto; padding-top:8px;
  height:calc(1.28em * 2 + 2px);
  font-size:12.2px; line-height:1.28; text-align:center; color:#eef6ff;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; text-overflow:ellipsis; word-break:break-word; text-wrap:balance;
}

/* กำลังเล่น: ขอบขาวเรืองแสงแบบบาง สะอาดตา */
.channel.playing .ch-card{
  background:#0f1a28;
  border-color:#ffffffcc;
  box-shadow:
    0 12px 26px rgba(0,0,0,.6),
    0 0 0 1px #ffffff45,
    0 0 22px 3px rgba(255,255,255,.12);
}
.channel.playing .ch-card::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit; pointer-events:none;
  box-shadow:0 0 0 0 rgba(255,255,255,.25);
  animation:playingPulse 1.6s ease-out infinite;
}
@keyframes playingPulse{
  0%{box-shadow:0 0 0 0 rgba(255,255,255,.25)}
  70%{box-shadow:0 0 0 9px rgba(255,255,255,0)}
  100%{box-shadow:0 0 0 9px rgba(255,255,255,0)}
}

/* Ripple ตอนกด (นุ่ม ๆ) */
.channel.pressed .ch-card::after{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background:radial-gradient(circle at var(--x,50%) var(--y,50%),
    rgba(255,255,255,.26) 0%, rgba(255,255,255,.14) 16%, rgba(255,255,255,0) 60%);
  animation:pressRipple 520ms ease-out forwards;
}
@keyframes pressRipple{from{opacity:.85;transform:scale(1)}to{opacity:0;transform:scale(1.08)}}

/* ข้อความช่วย */
.tip{margin:10px auto 0;max-width:980px;text-align:center;color:var(--muted);font-size:12px}

/* ===== Responsive tune ===== */
@media (max-width:960px){
  :root{--tile-gap:9px}
}
@media (max-width:640px){
  :root{
    --tile-w: clamp(88px, 28vw, 112px);
    --tile-h: clamp(102px, 32vw, 126px);
  }
  .app{padding:8px 10px 24px}
}
@media (max-height:420px) and (orientation:landscape){
  :root{--tile-h: clamp(96px, 24vh, 118px)}
}

/* Toast ชื่อช่องบนวิดีโอ (มือถือ) */
#mini-toast{
  position:absolute;z-index:5;left:12px;bottom:12px;
  padding:6px 10px;border-radius:10px;background:rgba(0,0,0,.55);
  color:#fff;font-weight:700;font-size:12px;backdrop-filter:blur(2px);
  transform:translateY(8px);opacity:0;pointer-events:none;transition:.25s ease;
}
#mini-toast.show{transform:none;opacity:1}
