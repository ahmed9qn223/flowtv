/* ====== Equal-size guarantee for all devices ====== */

/* ไซส์มาตรฐาน (ปรับได้ตามต้องการ) */
:root{
  --tile-w:104px;   /* ความกว้างการ์ด (ทุกใบเท่ากัน) */
  --tile-h:120px;   /* ความสูงการ์ด (ทุกใบเท่ากัน) */
  --tile-g:10px;    /* ช่องไฟ */
}

/* ป้องกันการย่อ/ขยายตัวหนังสืออัตโนมัติของ iOS ที่ทำให้กล่องสูงไม่เท่ากัน */
html{ -webkit-text-size-adjust:100%; text-size-adjust:100%; }

/* กริดคอลัมน์คงที่ + แถวคงที่ */
.grid{
  margin-top:10px;
  display:grid;
  gap:var(--tile-g);
  grid-template-columns:repeat(auto-fill, minmax(var(--tile-w), var(--tile-w)));
  grid-auto-rows:var(--tile-h);              /* แถวสูงเท่าการ์ด */
  justify-content:center;
  align-content:start;

  /* สำหรับเอฟเฟกต์รวม (มีอยู่แล้ว) */
  --stagger:22ms;
}

/* ปุ่มแต่ละใบ = ขนาดคงที่เสมอ */
.channel{
  position:relative;
  width:var(--tile-w);
  height:var(--tile-h);
  border-radius:14px;
  cursor:pointer;
  /* กัน sub-pixel rounding ต่างเครื่อง */
  transform:translateZ(0);
  backface-visibility:hidden;
}

/* แสงเรือง (ไม่กระทบขนาด) */
.channel::after{
  content:"";position:absolute;inset:-6px;border-radius:18px;
  background:radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.55) 0%, transparent 70%);
  filter:blur(12px);opacity:0;transition:opacity .25s ease;pointer-events:none;z-index:0;
}
.channel:hover::after,.channel.active::after{opacity:.9;animation:neonPulse 2.4s ease-in-out infinite}
@keyframes neonPulse{0%{filter:blur(9px);opacity:.5}50%{filter:blur(14px);opacity:.95}100%{filter:blur(9px);opacity:.5}}

/* การ์ดด้านใน “ต้อง” สูงเต็มปุ่ม */
.ch-card{
  position:relative; z-index:1;
  height:100% !important;                     /* <— กินเต็มความสูงปุ่ม */
  width:100%;
  background:linear-gradient(180deg,var(--panel),var(--panel-2))!important;
  border:1px solid var(--border)!important;
  border-radius:12px;
  padding:9px 8px 8px;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
  display:grid;
  grid-template-rows:1fr auto;                /* ส่วนโลโก้ยืด 1fr / ชื่ออยู่ล่าง */
  gap:6px;
  place-items:center;
  transition:transform .12s ease,border-color .15s ease,box-shadow .15s ease;
  overflow:hidden;
  contain:content;                             /* ลดผลกระทบ layout รอบข้าง */
}
.channel:hover .ch-card{
  transform:translateY(-1px);border-color:rgba(255,255,255,.7);
  box-shadow:0 0 0 1px rgba(255,255,255,.75) inset, 0 0 10px rgba(255,255,255,.42), 0 0 20px rgba(255,255,255,.22);
}
.channel:active .ch-card{transform:scale(.985)}
.channel.active .ch-card{border-color:#fff;box-shadow:0 0 0 1.4px #fff inset, 0 0 14px rgba(255,255,255,.6), 0 0 28px rgba(255,255,255,.32)}

/* กล่องโลโก้: สูงคงที่ตามสัดส่วนการ์ด */
.logo-wrap{
  width:calc(var(--tile-h)*0.46);
  height:calc(var(--tile-h)*0.46);
  border-radius:10px;
  background:#0e0f10;
  display:grid; place-items:center; overflow:hidden;
}
.logo{
  display:block;                                /* กัน baseline ทำให้สูงเพี้ยน */
  max-width:calc(var(--tile-h)*0.40);
  max-height:calc(var(--tile-h)*0.40);
}

/* ชื่อช่อง: สูง 2 บรรทัดคงที่เสมอ */
.name{
  font-size:11.8px;
  line-height:1.2;
  height:calc(1.2em * 2);                        /* สูง “เท่ากัน” ทุกใบ */
  text-align:center; color:#e7e7e7;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  overflow:hidden; text-overflow:ellipsis;
}

/* — ปรับละเอียดขนาดการ์ดตามอุปกรณ์ — */
@media (max-width:1200px){ :root{ --tile-w:100px; --tile-h:116px; } }
@media (max-width:900px) { :root{ --tile-w:98px;  --tile-h:112px; } }
@media (max-width:700px) { :root{ --tile-w:94px;  --tile-h:108px; --tile-g:9px; } }
@media (max-width:520px) { :root{ --tile-w:90px;  --tile-h:104px; --tile-g:8px; } }
@media (max-width:390px) { :root{ --tile-w:86px;  --tile-h:100px; } }
/* มือถือแนวนอน (พื้นที่สูงน้อย) */
@media (max-height:420px) and (orientation:landscape){
  :root{ --tile-h:96px; }
}
